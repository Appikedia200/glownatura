"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[746],{9048:function(e,t,a){a.d(t,{Z:function(){return d}});var r=a(7437),s=a(2265),n=a(3145),c=a(9390),i=a(3365),o=a(8894),l=a(6586);function d(e){var t,a;let{product:d,className:u="",priority:h=!1}=e,[g,m]=(0,s.useState)(1),[p,f]=(0,s.useState)(!1),y=d.images.find(e=>e.isPrimary)||d.images[0],x=(null==y?void 0:null===(t=y.mediaId)||void 0===t?void 0:t.cloudinaryUrl)||"/images/placeholder.png",w=(null==y?void 0:null===(a=y.mediaId)||void 0===a?void 0:a.altText)||d.name,v=e=>{m(Math.max(1,Math.min(g+e,d.stock)))},b=d.comparePrice?Math.round((d.comparePrice-d.price)/d.comparePrice*100):null;return(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300 ".concat(u),children:[(0,r.jsxs)("div",{className:"relative aspect-square overflow-hidden group",children:[(0,r.jsx)(n.default,{src:x,alt:w,fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-105",loading:h?"eager":"lazy",priority:h,sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 33vw, 25vw"}),(0,r.jsx)("button",{onClick:()=>f(!p),className:"absolute top-3 right-3 p-2 bg-white/80 rounded-full hover:bg-white transition-colors",children:p?(0,r.jsx)(o.Z,{className:"h-5 w-5 text-red-500"}):(0,r.jsx)(i.Z,{className:"h-5 w-5 text-gray-600"})}),b&&(0,r.jsx)("div",{className:"absolute top-3 left-3",children:(0,r.jsxs)("span",{className:"inline-block bg-green-600 text-white text-xs px-2 py-1 rounded",children:["-",b,"%"]})}),d.isNewArrival&&(0,r.jsx)("div",{className:"absolute bottom-3 left-3",children:(0,r.jsx)("span",{className:"inline-block bg-orange-500 text-white text-xs px-2 py-1 rounded",children:"NEW"})}),d.isBackInStock&&(0,r.jsx)("div",{className:"absolute bottom-3 left-3",children:(0,r.jsx)("span",{className:"inline-block bg-purple-600 text-white text-xs px-2 py-1 rounded",children:"Back in Stock"})})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:d.brand}),(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2 line-clamp-2 min-h-[2.5rem]",children:d.name}),(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("div",{className:"flex items-center space-x-1",children:(e=>{let t=[];for(let a=0;a<5;a++)t.push((0,r.jsx)(c.Z,{className:"h-4 w-4 ".concat(a<Math.floor(e)?"text-yellow-400 fill-current":"text-gray-300")},a));return t})(d.averageRating||0)}),(0,r.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:["(",d.reviewCount||0,")"]})]}),(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:(0,l.T4)(d.price)}),d.comparePrice&&(0,r.jsx)("span",{className:"text-sm text-gray-500 line-through",children:(0,l.T4)(d.comparePrice)})]})}),(0,r.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,r.jsxs)("div",{className:"flex items-center border border-gray-300 rounded",children:[(0,r.jsx)("button",{onClick:()=>v(-1),className:"px-2 py-1 text-gray-600 hover:text-gray-900 transition-colors",disabled:g<=1,children:"-"}),(0,r.jsx)("span",{className:"px-3 py-1 text-sm font-medium",children:g}),(0,r.jsx)("button",{onClick:()=>v(1),className:"px-2 py-1 text-gray-600 hover:text-gray-900 transition-colors",disabled:g>=d.stock,children:"+"})]})}),(0,r.jsx)("button",{onClick:()=>{console.log("Added ".concat(g," of ").concat(d.name," to cart"))},disabled:0===d.stock,className:"w-full py-2 px-4 text-sm font-medium rounded transition-colors duration-200 ".concat(d.stock>0?"bg-black text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:d.stock>0?"ADD TO CART":"OUT OF STOCK"})]})]})}},6586:function(e,t,a){a.d(t,{Hi:function(){return s},T4:function(){return n},T8:function(){return r}});let r=[{name:"ABOUT US",href:"/about"},{name:"BRANDS",href:"/brands",hasDropdown:!0,dropdownItems:[]},{name:"FACE",href:"/face",hasDropdown:!0,dropdownItems:[{name:"Cleansers",href:"/face/cleansers"},{name:"Toners",href:"/face/toners"},{name:"Serums",href:"/face/serums"},{name:"Moisturizers",href:"/face/moisturizers"},{name:"Sunscreen",href:"/face/sunscreen"},{name:"Face Masks",href:"/face/face-masks"},{name:"Eye Care",href:"/face/eye-care"},{name:"Lip Care",href:"/face/lip-care"}]},{name:"BATH & BODY",href:"/shop?category=bath-body"},{name:"SALES & OFFERS",href:"/shop?featured=true"},{name:"BOOK A CONSULTATION",href:"/consultation"},{name:"JEWELRY",href:"/shop?category=jewelry",hasDropdown:!0,dropdownItems:[{name:"Glasses",href:"/shop?category=glasses"},{name:"Watches",href:"/shop?category=watches"},{name:"Necklaces",href:"/shop?category=necklaces"},{name:"Earrings",href:"/shop?category=earrings"},{name:"Finger Rings",href:"/shop?category=finger-rings"}]},{name:"GIFT CARDS",href:"/gift-cards"},{name:"WHOLESALE",href:"/wholesale"}],s=[{text:"BUY MORE SAVE MORE - CLICK HERE",link:"/shop?featured=true"},{text:"GET REWARDED FOR SHOPPING - CLICK HERE",link:"/rewards"}];function n(e){return"â‚¦".concat(e.toLocaleString())}},1071:function(e,t,a){a.d(t,{Nn:function(){return p},L_:function(){return m},hn:function(){return f},rn:function(){return g}});var r=a(2265),s=a(3464),n=a(257);let c={api:{baseUrl:n.env.NEXT_PUBLIC_API_URL||"https://backendglownaturas.onrender.com",timeout:Number(n.env.NEXT_PUBLIC_API_TIMEOUT)||6e4},site:{url:n.env.NEXT_PUBLIC_SITE_URL||"http://localhost:3000",name:n.env.NEXT_PUBLIC_SITE_NAME||"Glow Natura"},features:{enableReviews:"true"===n.env.NEXT_PUBLIC_ENABLE_REVIEWS,enableWishlist:"true"===n.env.NEXT_PUBLIC_ENABLE_WISHLIST},isProduction:!0,isDevelopment:!1};class i{setupInterceptors(){this.client.interceptors.request.use(e=>{{let t=localStorage.getItem("customer_token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,this.handleError)}async get(e,t){return(await this.client.get(e,t)).data}async post(e,t,a){return(await this.client.post(e,t,a)).data}async put(e,t,a){return(await this.client.put(e,t,a)).data}async patch(e,t,a){return(await this.client.patch(e,t,a)).data}async delete(e,t){return(await this.client.delete(e,t)).data}constructor(){this.handleError=e=>{if(e.response){var t,a;let{status:r,data:s}=e.response;return 401!==r||(localStorage.removeItem("customer_token"),window.location.pathname.includes("/login")||(window.location.href="/login")),Promise.reject({message:(null==s?void 0:null===(t=s.error)||void 0===t?void 0:t.message)||e.message||"An unexpected error occurred",statusCode:r,details:null==s?void 0:null===(a=s.error)||void 0===a?void 0:a.details})}return e.request?Promise.reject({message:"Network error. Please check your connection.",statusCode:0}):Promise.reject({message:e.message||"An unexpected error occurred",statusCode:500})},this.client=s.Z.create({baseURL:c.api.baseUrl,timeout:c.api.timeout,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}}let o=new i,l={async getAllProducts(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&""!==r&&(Array.isArray(r)?t.append(a,r.join(",")):t.append(a,String(r)))}),(await o.get("/api/products?".concat(t.toString()))).data},async getAll(e){let t=await this.getAllProducts(e);return{products:t.data,pagination:t.pagination||{page:1,limit:16,total:0,totalPages:0,hasNextPage:!1,hasPrevPage:!1}}},getById:async e=>(await o.get("/api/products/".concat(e))).data,getBySlug:async e=>(await o.get("/api/products/slug/".concat(e))).data,async getPriceRange(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&""!==r&&(Array.isArray(r)?t.append(a,r.join(",")):t.append(a,String(r)))}),(await o.get("/api/products/price-range?".concat(t.toString()))).data},async search(e,t){return this.getAll({...t,search:e})}},d={async getAllCategories(e){let t=(null==e?void 0:e.includeChildren)?"?includeChildren=true":"";return(await o.get("/api/categories".concat(t))).data},async getAll(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.getAllCategories({includeChildren:e})).data},getById:async e=>(await o.get("/api/categories/".concat(e))).data,getBySlug:async e=>(await o.get("/api/categories/slug/".concat(e))).data,getChildren:async e=>(await o.get("/api/categories/".concat(e,"/children"))).data},u={async getAllBrands(e){let t=new URLSearchParams;return(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.limit)&&t.append("limit",String(e.limit)),(null==e?void 0:e.page)&&t.append("page",String(e.page)),(await o.get("/api/brands?".concat(t.toString()))).data},getBrandBySlug:async e=>(await o.get("/api/brands/".concat(e))).data,getBrandsByLetter:async e=>(await o.get("/api/brands/letter/".concat(e))).data},h={getHomepageSections:async()=>(await o.get("/api/homepage-sections")).data},g=e=>{let[t,a]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[c,i]=(0,r.useState)(null),[o,d]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{n(!0),i(null);try{let t=await l.getAllProducts(e);t.success?(a(t.data),d(t.pagination||null)):i("Failed to fetch products")}catch(e){i(e.message||"An error occurred")}finally{n(!1)}})()},[JSON.stringify(e)]),{products:t,loading:s,error:c,pagination:o}},m=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,a]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[c,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{n(!0),i(null);try{let t=await d.getAllCategories({includeChildren:e});t.success?a(t.data):i("Failed to fetch categories")}catch(e){i(e.message||"An error occurred")}finally{n(!1)}})()},[e]),{categories:t,loading:s,error:c}},p=e=>{let[t,a]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[c,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(0);return(0,r.useEffect)(()=>{(async()=>{n(!0),i(null);try{let t=await u.getAllBrands(e);t.success?(a(t.data.brands),l(t.data.total)):i("Failed to fetch brands")}catch(e){i(e.message||"An error occurred")}finally{n(!1)}})()},[JSON.stringify(e)]),{brands:t,loading:s,error:c,total:o}},f=()=>{let[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),[n,c]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{s(!0),c(null);try{let e=await h.getHomepageSections();e.success?t(e.data):c("Failed to fetch homepage content")}catch(e){c(e.message||"An error occurred")}finally{s(!1)}})()},[]),{sections:e,loading:a,error:n}}}}]);