(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{7389:function(e,s,t){Promise.resolve().then(t.bind(t,9632))},9632:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var a=t(7437),l=t(2265),r=t(9376),n=t(3145),c=t(7648),i=t(1071),d=t(9048),x=t(2834),o=t(6586);function m(){let e=(0,r.useSearchParams)().get("category"),[s,t]=(0,l.useState)(0),[m,h]=(0,l.useState)(5e5),[u,b]=(0,l.useState)([]),[g,p]=(0,l.useState)([]),[j,f]=(0,l.useState)(1),[N,v]=(0,l.useState)(16),[y,k]=(0,l.useState)("-createdAt"),[w,C]=(0,l.useState)({categories:!1,brands:!1,concerns:!1}),{categories:S}=(0,i.L_)(!1),{brands:_}=(0,i.Nn)({limit:100});(0,l.useEffect)(()=>{if(e&&S.length>0){let s=S.find(s=>s.slug===e||s.slug.includes(e));s&&!u.includes(s._id)&&b([s._id])}},[e,S]);let{products:P,pagination:F,loading:B}=(0,i.rn)({page:j,limit:N,minPrice:s,maxPrice:m,category:u.length>0?u.join(","):e||void 0,brand:g.length>0?g.join(","):void 0,sort:y}),E=e=>{b(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]),f(1)},L=e=>{p(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]),f(1)},A=e=>{C(s=>({...s,[e]:!s[e]}))};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("main",{className:"min-h-screen",children:[(0,a.jsxs)("section",{className:"relative h-[300px] md:h-[400px] lg:h-[500px] overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0",children:[(0,a.jsx)(n.default,{src:"/images/banners/shop.png",alt:"Shop Banner",fill:!0,className:"object-cover object-center",priority:!0}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40"})]}),(0,a.jsx)("div",{className:"relative z-10 h-full flex items-center",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("nav",{className:"mb-4 text-sm text-gray-300 font-libre",children:[(0,a.jsx)(c.default,{href:"/",className:"hover:text-white transition-colors",children:"Home"}),(0,a.jsx)("span",{className:"mx-2",children:"›"}),(0,a.jsx)("span",{className:"text-white",children:"Shop"})]}),(0,a.jsx)("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-6 font-libre",children:"Shop"})]})})})]}),(0,a.jsx)("section",{className:"py-8 bg-white",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 md:px-12",children:(0,a.jsxs)("div",{className:"flex gap-8",children:[(0,a.jsxs)("aside",{className:"w-64 flex-shrink-0 hidden lg:block",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-black mb-4 flex items-center justify-between font-libre",children:["Filter by price",(0,a.jsx)("span",{className:"text-xl",children:"−"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative py-4",children:[(0,a.jsx)("input",{type:"range",min:"0",max:"500000",step:"1000",value:s,onChange:e=>{let s=parseInt(e.target.value);s<=m&&t(s)},className:"absolute w-full h-2 bg-transparent appearance-none cursor-pointer z-20 slider-thumb"}),(0,a.jsx)("input",{type:"range",min:"0",max:"500000",step:"1000",value:m,onChange:e=>{let t=parseInt(e.target.value);t>=s&&h(t)},className:"absolute w-full h-2 bg-transparent appearance-none cursor-pointer z-20 slider-thumb"}),(0,a.jsx)("div",{className:"relative h-2 bg-gray-200 rounded-lg",children:(0,a.jsx)("div",{className:"absolute h-2 bg-black rounded-lg",style:{left:"".concat(s/5e5*100,"%"),right:"".concat(100-m/5e5*100,"%")}})})]}),(0,a.jsx)("button",{onClick:()=>f(1),className:"bg-gray-100 text-black px-4 py-2 text-sm border hover:bg-gray-200 transition-colors font-gupter uppercase tracking-wide",children:"FILTER"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 font-libre",children:["Price: ",(0,o.T4)(s)," — ",(0,o.T4)(m)]})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-black mb-4 flex items-center justify-between cursor-pointer hover:text-gray-700 font-libre",onClick:()=>A("categories"),children:["Product Categories",(0,a.jsx)("span",{className:"text-xl",children:w.categories?"−":"+"})]}),w.categories&&(0,a.jsx)("div",{className:"space-y-2 font-libre",children:S.map(e=>(0,a.jsxs)("label",{className:"flex items-center justify-between text-sm text-gray-600 cursor-pointer hover:text-black",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:u.includes(e._id),onChange:()=>E(e._id),className:"mr-2"}),(0,a.jsx)("span",{children:e.name})]}),(0,a.jsx)("span",{children:e.productCount||0})]},e._id))})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-black mb-4 flex items-center justify-between cursor-pointer hover:text-gray-700 font-libre",onClick:()=>A("brands"),children:["Filter By Brand",(0,a.jsx)("span",{className:"text-xl",children:w.brands?"−":"+"})]}),w.brands&&(0,a.jsx)("div",{className:"space-y-2 font-libre max-h-64 overflow-y-auto",children:_.map(e=>(0,a.jsxs)("label",{className:"flex items-center justify-between text-sm text-gray-600 cursor-pointer hover:text-black",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:g.includes(e.name),onChange:()=>L(e.name),className:"mr-2"}),(0,a.jsx)("span",{children:e.name})]}),(0,a.jsx)("span",{children:e.productCount||0})]},e._id))})]})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 font-libre",children:"SHOW"}),(0,a.jsx)("div",{className:"flex space-x-2",children:[16,32,64].map(e=>(0,a.jsx)("button",{onClick:()=>{v(e),f(1)},className:"text-sm font-libre ".concat(N===e?"text-black font-semibold":"text-gray-400"),children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 font-libre",children:"Sort By"}),(0,a.jsxs)("select",{value:y,onChange:e=>k(e.target.value),className:"text-sm border-0 bg-transparent cursor-pointer font-libre",children:[(0,a.jsx)("option",{value:"-createdAt",children:"Latest"}),(0,a.jsx)("option",{value:"price",children:"Price: Low to High"}),(0,a.jsx)("option",{value:"-price",children:"Price: High to Low"}),(0,a.jsx)("option",{value:"-averageRating",children:"Best Rating"}),(0,a.jsx)("option",{value:"-featured.featuredOrder",children:"Featured"})]})]})]}),B?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:Array.from({length:N}).map((e,s)=>(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-300 mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 w-3/4"})]},s))}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:P.map(e=>(0,a.jsx)(d.Z,{product:e},e._id))}),0===P.length&&(0,a.jsx)("div",{className:"text-center py-16",children:(0,a.jsx)("p",{className:"text-gray-600 font-libre",children:"No products found"})}),F&&F.total>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"text-center text-gray-600 mb-4 font-libre",children:["Showing ",P.length," of ",F.total," products"]}),F.totalPages>1&&(0,a.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[Array.from({length:Math.min(F.totalPages,10)}).map((e,s)=>(0,a.jsx)("button",{onClick:()=>f(s+1),className:"w-8 h-8 flex items-center justify-center border rounded font-libre ".concat(j===s+1?"bg-black text-white":"text-gray-600 hover:bg-gray-100"),children:s+1},s)),F.hasNextPage&&(0,a.jsx)("button",{onClick:()=>f(j+1),className:"px-3 py-1 text-gray-600 hover:text-black font-libre",children:"→"})]})]})]})]})]})})}),(0,a.jsx)(x.default,{})]})})}function h(){return(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("main",{className:"min-h-screen",children:(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-black"})})}),children:(0,a.jsx)(m,{})})}}},function(e){e.O(0,[878,972,843,834,746,971,117,744],function(){return e(e.s=7389)}),_N_E=e.O()}]);